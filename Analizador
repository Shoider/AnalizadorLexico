%option noyywrap
%option yylineno

// LIBRERIAS
%{
#include <stdio.h>
%}

// CARACTERES

NUMERO			[0-9]
LETRA           [a-zA-Z]

// SIMBOLOS
COMENTARIO      [--]
I_COMENTARIO    ["*/"]
F_COMENTARIO    ["*/"]
GUION           [_-]
ESPACIO         [" "]
PUNTO           ["."]
COMA            [","]
P_COMA          [";"]
D_PUNTOS        [":"]

// COMPUESTOS

ID      {LETRA}({LETRA}|{DIGITO}|{GUION})*
INT     (-?[1-9]{DIGITO}*)|0
FLOAT   (-?[1-9]{DIGITO}*){PUNTO}{DIGITO}*

// EXTRAS
OPERADORLOG     ["!"|"||"|"&&"]
PUNTEROS        ["->"|"*"]
CADENA          \"[^\n]*\"

%%

//  ESTRUCTURAS
int                 { printf("INT "); }
float               { printf("FLOAT "); }
short               { printf("SHORT "); }
long                { printf("LONG "); }
char                { printf("CHAR "); }
void                { printf("VOID "); }
if                  { printf("IF "); }
else                { printf("ELSE "); }
while               { printf("WHILE "); }
do                  { printf("WHILE "); }
for                 { printf("FOR "); }
switch              { printf("SWITCH "); }
case                { printf("CASE "); }
default             { printf("DEFAULT "); }
return              { printf("RETURN "); }
break               { printf("BREAK "); }
static              { printf("STATIC "); }
const               { printf("CONST "); }

// VARIABLES Y NUMEROS
{DIGITOS}           { printf("NUMERO(%s) ", yytext); }
{DIGITOS}.{DIGITOS} { printf("NUMEROFLOAT(%s) ", yytext); }

{LETRAS}            { printf("IDENTIFICADOR(%s) ", yytext); }

// OPERADORES
=                   { printf("ASIGNACION "); }
==                  { printf("IGUALDAD "); }
<                   { printf("MENOR "); }
>                   { printf("MAYOR "); }
<=                  { printf("MENORIGUAL "); }
>=                  { printf("MAYORIGUAL; "); }
!=                  { printf("DIFERENTE "); }

+                   { printf("SUMA "); }
-                   { printf("RESTA "); }
*                   { printf("MULTIPLICACION "); }
/                   { printf("DIVICION "); }
%                   { printf("MODULO "); }

+=                  { printf("SUMAASIG "); }
-=                  { printf("RESTAASIG "); }
*=                  { printf("MULTIPLICACIONASIG "); }
/=                  { printf("DIVICIONASIG "); }
%=                  { printf("MODULOASIG "); }

++                  { printf("INCREMENTO "); }
--                  { printf("DECREMENTO "); }

// OTROS
[;]                 { printf("FL \n"); }
[:]                 { printf("ETIQUETA "); }
[,]                 { printf("SEPARACION "); }
[ \t\n]             // Ignorar espacios en blanco y saltos de l√≠nea
.                   { printf("Error: Caracter desconocido (%s) ", yytext); }

%%


// Programa en C
int main() {
    yylex();
    printf("Fin Archivo\n"); // Agregar una marca al final de la salida
    return 0;
}
